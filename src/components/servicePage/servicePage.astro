---
import BaseLayout from "../../layouts/layout.astro";
import Card from "../../components/card/card.jsx";
import PageHeader from "../../components/pageHeader/pageHeader.jsx";

const { service, pageTitle, pageHeader, pageSubHeader, intro } = Astro.props;
const data = Astro.fetchContent(`../../content/${service}/*.md`);
---

<BaseLayout title={pageTitle}>
  <PageHeader title={pageHeader} class="pageHeader">
    <h2>{pageSubHeader}</h2>
    <p>{intro}</p>
  </PageHeader>

  <div class="grid">
    {data.map((post) => (
      <Card
        logo={post.logo}
        title={post.title}
        key={post.title}
        html={post.content.html}
        url={post.url}
        extraClasses="service-card"
      />
    ))}
  </div>
</BaseLayout>

<style lang="scss">
  .pageHeader {
    background-image: url("https://res.cloudinary.com/css-tricks/image/upload/c_scale,f_auto,q_auto,w_800/v1558127391/satellite_wezm7k.png"),
      url("https://res.cloudinary.com/css-tricks/image/upload/c_scale,f_auto,q_auto,w_1200/v1558127158/cloud3_v43wo8.png"),
      url("https://res.cloudinary.com/css-tricks/image/upload/c_scale,f_auto,q_auto,w_1200/v1558127567/earth_zxu0ww.png"),
      url("/img/stars.svg");
    background-size: 30%, 60%, 50%, 90%;
    background-position: top right 15%, top right -40px, top 85% right,
      top center;
    background-repeat: no-repeat;
    @media (max-width: 770px) {
      background-position: top 40% right 5%, top -10% right -40px, top 60% right,
        top center;
    }
  }
</style>
